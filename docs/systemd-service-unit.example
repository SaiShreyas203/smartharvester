# Example systemd service unit file
# Place this at: /etc/systemd/system/smartharvester.service
#
# Usage:
#   1. Copy this file to /etc/systemd/system/smartharvester.service
#   2. Edit paths and user as needed
#   3. Ensure env.conf exists at /etc/systemd/system/smartharvester.service.d/env.conf
#   4. Enable and start: sudo systemctl enable smartharvester && sudo systemctl start smartharvester

[Unit]
Description=SmartHarvester Django Application
After=network.target

[Service]
Type=notify
User=ubuntu
Group=ubuntu
WorkingDirectory=/home/ubuntu/myproject/smartharvester
EnvironmentFile=/etc/systemd/system/smartharvester.service.d/env.conf
ExecStart=/home/ubuntu/myproject/smartharvester/venv/bin/gunicorn \
    --bind 0.0.0.0:8000 \
    --workers 3 \
    --timeout 120 \
    --access-logfile - \
    --error-logfile - \
    config.wsgi:application
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target

